<!doctype html>
<html class="no-js" lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="author" content="M_Adnan" />
<!-- Document Title -->
<title th:text="'Acatim - Quản Lý Khóa Học'"></title>
<link rel="shortcut icon" type="image/x-icon" href="admin/admin/img/favicon.ico">
<!-- StyleSheets -->


<link rel="stylesheet" href="css/animate.css">

<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/owl.theme.default.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">

<link rel="stylesheet" href="css/aos.css">

<link rel="stylesheet" href="css/ionicons.min.css">

<link rel="stylesheet" href="css/bootstrap-datepicker.css">
<link rel="stylesheet" href="css/jquery.timepicker.css">


<link rel="stylesheet" href="css/icomoon.css">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/Menu.css">
<link rel="stylesheet" href="css/filterbar.css">

<link rel="stylesheet" href="css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="css/rating.css">


    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&amp;subset=latin-ext,vietnamese" rel="stylesheet">
	


<!-- FontsOnline -->
<link
	href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900"
	rel="stylesheet">


    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/font-awesome.min.css">
    <!-- owl.carousel CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/owl.carousel.css">
    <link rel="stylesheet" href="admin/admin/css/owl.theme.css">
    <link rel="stylesheet" href="admin/admin/css/owl.transitions.css">
    <!-- animate CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/animate.css">
    <!-- normalize CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/normalize.css">
    <!-- meanmenu icon CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/meanmenu.min.css">
    <!-- main CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/main.css">
    <!-- educate icon CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/educate-custon-icon.css">
    <!-- forms CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/form/all-type-forms.css">
    <!-- style CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/style.css">
    <!-- responsive CSS
		============================================ -->
    <link rel="stylesheet" href="admin/admin/css/responsive.css">



</head>
<body>

	<!-- Page Wrapper -->
	<div id="wrap">

		<!-- Header -->
		<div th:replace="menu :: menu"></div>
		<!-- End Header -->

		<!-- Content -->
		<main class="cd-main-content" style="margin-top: 20px;">
		<div id="content">
			<div class="resume">
				<div class="container">

					
            <div class="container-fluid">
				<form th:action="@{manager-course}" th:object="${searchValue}" method="POST">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="product-status-wrap drp-lst">
								<div class="row">
									<!-- <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
										<div class="chosen-select-single mg-b-20">
											<select class="chosen-select" th:field="*{categoryId}">
												<option value="0">--Tât Cả--</option>
												<option th:if="${allCategories != null}" th:each="category : ${allCategories}" th:value="${category.categoryId}">
												</option>
											</select>
										</div>
									</div> -->
									<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12" th:if="${allSubjects != null}">
										<div class="breadcome-heading">
											<select style="border: 1px solid #d2d2d2; border-radius: 13px; height: 30px; width: 120px;" class="chosen-select" th:field="*{subjectId}">
												<option value="0">--Tât Cả--</option>
												<option th:each="subject : ${allSubjects}" th:value="${subject.subjectId}" th:text="${subject.subjectName}"></option>
											</select>
										</div>
									</div>
									<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
										<div class="breadcome-heading">
											<input type="text" th:field="*{search}" placeholder="Tìm Kiếm" style="width: 100%; height: 34px; border: 1px solid #d4d4d4; padding-left: 10px; padding-right: 10px; border-radius: 40px;"
												class="search-int">
										</div>
									</div>
									<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
										<div class="breadcome-heading">
											<button type="submit"
												class="btn btn-primary waves-effect waves-light">Tìm Kiếm</button>
										</div>
									</div>
								</div>
								<div class="add-product">
                                	<a class="btn btn-circle btn-primary" th:href="@{/profile}">Quay Lại Trang Cá Nhân</a>
                            	</div>
							</div>
						</div>
					</div>
					
				</form>
				
				<div class="row">
                    <div style="margin-top: 20px; min-height: 500px;" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="product-status-wrap drp-lst">
                            <h4>Danh Sách Khóa Học</h4>
                            <div class="add-product">
                                <a class="btn btn-circle btn-primary" th:href="@{/add-course}">Thêm Khóa Học</a>
                            </div>
                             <div class="asset-inner" th:if="${#lists.isEmpty(allCourses) == true}">
                             	<h2 th:text="'Không Tìm Thấy Khóa Học nào'"></h2>
                             </div>
                            <div class="asset-inner" th:if="${#lists.isEmpty(allCourses) == false}">
                                <table>
									<tr>
										<th>#</th>
										<th>Tên Khóa Học</th>
										<th>Thông Tin Khóa Học</th>
										<th>Giờ Bắt Đầu</th>
										<th>Giờ Kết thúc</th>
										<th>Ngày Bắt Đầu</th>
										<th>Ngày Kết thúc</th>
										<th>Giá (VND)</th>
										<th>Ngày Tạo</th>
										<th>Trạng Thái</th>
										<th></th>
									</tr>
									<tr th:each="course : ${allCourses}" th:with="sdf = ${new java.text.SimpleDateFormat('yyyy-MM-dd')}, times = ${new java.text.SimpleDateFormat('HH:mm')}">
										<td th:text="${course.courseId}"></td>
										<td th:text="${course.courseName}"></td>
										<td th:if="${course.courseDescription != null and #strings.length(course.courseDescription) > 50}" th:utext="${#strings.substring(course.courseDescription,0,50)} + '...'"></td>
										<td th:if="${#strings.length(course.courseDescription) < 50}" th:utext="${course.courseDescription)}"></td>
										<td th:text="${#dates.format(times.parse(course.startTime), 'HH:mm a')}"></td>
										<td th:text="${#dates.format(times.parse(course.endTime), 'HH:mm a')}"></td>
										<td th:text="${#dates.format(sdf.parse(course.startDate), 'dd-MMMMM-yyyy')}"></td>
										<td th:text="${#dates.format(sdf.parse(course.endDate), 'dd-MMMMM-yyyy')}"></td>
										<td th:text="${#numbers.formatCurrency(course.price)}" ></td>
										<td th:text="${#dates.format(sdf.parse(course.createDate), 'dd-MMMMM-yyyy')}"></td>
										
										<td th:if="${course.active == true}" style="color: green;"><b>Active</b></td>
										<td th:if="${course.active == false}" style="color: red;" ><b>Blocked</b></td>
										<td>
										<a th:href="@{/update-course(courseId=${course.courseId})}"><button type="button" class="btn btn-primary">Thay Đổi</button></a>
										<a th:href="@{/detail-course(courseId=${course.courseId})}"><button type="button" class="btn btn-primary">Xem thêm</button></a>
							 						<button type="button" class="btn btn-danger" data-toggle="modal" th:if="${course.active == true}"
							 								th:attr="data-target='#'+${course.courseId}+'1'">Khóa</button>
							 						<button type="button" class="btn btn-success" data-toggle="modal" th:if="${course.active == false}"
							 								th:attr="data-target='#'+${course.courseId}+'2'">Mở Khóa</button>
										</td>
									</tr>
									
								</table>
                            </div>
                        
                    </div>
                </div>
			            </div>
			            <div th:if="${#lists.isEmpty(allCourses) == false}" class="search-form" style="visibility: visible; display: flex; justify-content: center; margin-top: 20px; text-align: center;">
                                  <a th:if="${currentPage != first}" class="btn btn-circle btn-primary" th:href="@{/manager-course(page=${first}, search=${searchValue.search}, subjectId=${searchValue.subjectId})}">Trang Đầu</a>
                                  <a th:if="${currentPage == first}" class="btn btn-circle btn-primary" >Trang Đầu</a>
                                  <a class="btn btn-circle btn-primary" th:if="${hasPrevious == true}" th:href="@{/manager-course(page=${previous}, search=${searchValue.search}, subjectId=${searchValue.subjectId})}" th:text="'<'" ></a>
                                  <div th:each="totalPage : ${totalPages}">
                                       <a th:if="${currentPage != totalPage}" class="btn btn-circle btn-primary" th:href="@{/manager-course(page=${totalPage}, search=${searchValue.search}, subjectId=${searchValue.subjectId})}" th:text="${totalPage}">1</a>
                                       <a th:if="${currentPage == totalPage}" class="btn btn-circle btn-primary" th:text="${totalPage}">1</a>
                                   </div>
                                   <a class="btn btn-circle btn-primary" th:if="${hasNext == true}" th:href="@{/manager-course(page=${next}, search=${searchValue.search}, subjectId=${searchValue.subjectId})}" th:text="'>'" >Trang Sau</a>
                                   <a th:if="${currentPage != last}" class="btn btn-circle btn-primary" th:href="@{/manager-course(page=${last}, search=${searchValue.search}, subjectId=${searchValue.subjectId})}">Trang Cuối</a>
                                   <a th:if="${currentPage == last}" class="btn btn-circle btn-primary" >Trang Cuối</a>
                            </div>
			        </div>
				</div>
			</div>
		</div>
		<div th:if="${allCourses != null}" th:id="${course.courseId}+'1'" class="modal modal-edu-general FullColor-popup-DangerModal fade" role="dialog" th:each="course : ${allCourses}">
                            <div class="modal-dialog" style="left: 0; right: 0;">
                                <div class="modal-content">
                                    <div class="modal-close-area modal-close-df">
                                        <a class="close" data-dismiss="modal" href="#"><i class="fa fa-close"></i></a>
                                    </div>
                                    <div class="modal-body">
                                        <span class="educate-icon educate-danger modal-check-pro information-icon-pro"></span>
                                        <h2>KHÓA!</h2>
                                        <p>Bạn có chắc muốn KHÓA khóa học này!</p>
                                    </div>
                                    <div class="modal-footer danger-md">
                                        <a class="btn btn-primary" data-dismiss="modal" href="#">Không</a>
                                        <a class="btn btn-primary" th:href="@{/blockCourse(courseId=${course.courseId})}">Khóa</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
        <div th:if="${allCourses != null}" th:id="${course.courseId}+'2'" class="modal modal-edu-general Customwidth-popup-WarningModal fade" role="dialog"  th:each="course : ${allCourses}">
                            <div class="modal-dialog" style="left: 0; right: 0;">
                                <div class="modal-content">
                                    <div class="modal-close-area modal-close-df">
                                        <a class="close" data-dismiss="modal" href="#"><i class="fa fa-close"></i></a>
                                    </div>
                                    <div class="modal-body">
                                        <span class="educate-icon educate-warning modal-check-pro information-icon-pro"></span>
                                        <h2>MỞ KHÓA!</h2>
                                        <p>Bạn có chắc muốn MỞ KHÓA khóa học này!</p>
                                    </div>
                                    <div class="modal-footer warning-md">
                                        <a class="btn btn-warning" data-dismiss="modal" href="#">Không</a>
                                        <a class="btn btn-warning" th:href="@{/unlockCourse(courseId=${course.courseId})}">Đúng</a>
                                    </div>
                                </div>
                            </div>
                        </div>
		</main>
		<!-- End Content -->

		
		

		<!-- Footer -->
		<div th:replace="footer :: footer"></div>
		<!-- End Footer -->

	</div>
	<!-- End Page Wrapper -->

	<!-- JavaScripts -->

	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.isotope.min.js"></script>
	<script src="js/mainProfile.js"></script>
	<script src="js/rating.js"></script>
	<!-- Begin Map Script-->
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
	<script src="js/map.js"></script>
	
    <!-- wow JS
		============================================ -->
    <script src="admin/admin/js/wow.min.js"></script>
    <!-- price-slider JS
		============================================ -->
    <script src="admin/admin/js/jquery-price-slider.js"></script>
    <!-- meanmenu JS
		============================================ -->
    <script src="admin/admin/js/jquery.meanmenu.js"></script>
    <!-- owl.carousel JS
		============================================ -->
    <script src="admin/admin/js/owl.carousel.min.js"></script>
    <!-- sticky JS
		============================================ -->
    <script src="admin/admin/js/jquery.sticky.js"></script>
    <!-- scrollUp JS
		============================================ -->
    <script src="admin/admin/js/jquery.scrollUp.min.js"></script>
    <!-- metisMenu JS
		============================================ -->
    <script src="admin/admin/js/metisMenu/metisMenu.min.js"></script>
    <script src="admin/admin/js/metisMenu/metisMenu-active.js"></script>
    <!-- calendar JS
		============================================ -->
    <script src="admin/admin/js/calendar/moment.min.js"></script>
    <script src="admin/admin/js/calendar/fullcalendar.min.js"></script>
    <script src="admin/admin/js/calendar/fullcalendar-active.js"></script>
    <!-- tab JS
		============================================ -->
    <script src="admin/admin/js/tab.js"></script>
    <!-- plugins JS
		============================================ -->
    <script src="admin/admin/js/plugins.js"></script>
    <!-- main JS
		============================================ -->
    <script src="admin/admin/js/main.js"></script>

</body>
</html>
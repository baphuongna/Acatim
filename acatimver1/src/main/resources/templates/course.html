<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<title th:text="'Acatim - Khóa Học'"></title>
<link rel="shortcut icon" type="image/x-icon" href="admin/admin/img/favicon.ico">
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" type="text/css" th:href="@{css/style.css}">
<link rel="stylesheet" href="css/animate.css">

<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/owl.theme.default.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">

<link rel="stylesheet" href="css/aos.css">

<link rel="stylesheet" href="css/ionicons.min.css">

<link rel="stylesheet" href="css/bootstrap-datepicker.css">
<link rel="stylesheet" href="css/jquery.timepicker.css">


<link rel="stylesheet" href="css/flaticon.css">
<link rel="stylesheet" href="css/icomoon.css">

<link rel="stylesheet" href="css/Menu.css">
<link rel="stylesheet" href="css/course.css">
<link rel="stylesheet" href="css/filterbar.css">
<link rel="stylesheet" type="text/css" th:href="@{/css/login.css}" />
<link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="admin/admin/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body style="background: #F6F8FA;">
	<div th:replace="menu :: menu"></div>
	<!-- END nav -->

	<header>
  <div style="width: 82%; margin: auto; padding: 17px; background-color: #fff;" id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="5000">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
      <!-- Slide One - Set the background image for this slide in the line below -->
      <div class="carousel-item active" style="background-image: url('https://images.pexels.com/photos/1319854/pexels-photo-1319854.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')">
        <div class="carousel-caption d-none d-md-block">
        </div>
      </div>
      <!-- Slide Two - Set the background image for this slide in the line below -->
      <div class="carousel-item" style="background-image: url('https://source.unsplash.com/bF2vsubyHcQ/1920x1080')">
        <div class="carousel-caption d-none d-md-block">
          <h2 class="display-4">Chăm Chỉ</h2>
          <p class="lead" style="color: #ece6e6;">"Hãy luôn luôn bắt đầu sớm..." - Barack Obama</p>
        </div>
      </div>
      <!-- Slide Three - Set the background image for this slide in the line below -->
      <div class="carousel-item" style="background-image: url('https://images.pexels.com/photos/264635/pexels-photo-264635.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')">
        <div class="carousel-caption d-none d-md-block">
          <h2 class="display-4">Tư Duy</h2>
          <p class="lead" style="color: #ece6e6;">"Nếu bạn sinh ra trong nghèo khó đó không phải lỗi của bạn, <br>nhưng nếu bạn chết trong nghèo khó thì đó là lỗi của bạn!" - Bill Gate</p>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
  </div>
</header>
	

	<section class="ftco-section">
		<div class="container">
		
			<div class="search-form wow pulse animated" data-wow-delay="0.8s"
				style="visibility: visible; animation-delay: 0.8s; animation-name: pulse; display: flex; justify-content: center;">
				<form th:action="@{course}" th:object="${searchValue}" method="POST" class=" form-inline">
					<div style="margin: auto;" class="form-group">
						<input type="text" th:field="*{search}" class="form-control"
							placeholder="Gõ tên khóa học cần tìm vào đây"
							style="width: 100%;">
					</div>
					<input type="submit" class="btn btn-primary" value="Tìm kiếm"
						style="width: 100px; height: 57px; margin: auto;">
				</form>
			</div>
			
			<div class="panel panel-default">
				<div class="panel-heading accordion-head" style="width: 100%; ">
					<h4 class="panel-title">
						<span class="glyphicon glyphicon-filter"></span> Bộ lọc 
						<span th:if="${category != null}" th:text="' - Thể Loại :' + ${category.categoryName}" style="color: black; font-weight: bold;"></span>
						<span th:if="${subject != null}" th:text="' - Môn Học :' + ${subject.subjectName}" style="color: black; font-weight: bold;"></span>
						<span th:if="${sortName != null}" th:text="' - Sắp Xếp theo :' + ${sortName}" style="color: black; font-weight: bold;"></span>
					</h4>
					<form th:action="@{course}" th:object="${searchValue}" method="POST" class="form-inline" style="padding-top: 10px;">
						<input type="hidden" th:field="*{categoryId}">
						<input type="hidden" th:field="*{search}">
						<div class="row" style="display: flex; margin: auto;">
							<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 dropdown" style=" height: 58px;">
								<button  class="btn dropdown-toggle" type="button"
									id="dropdownMenuButton" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false" th:text="'-- Chọn Thể loại --'" style="height: 58px; background-color: rgb(255, 255, 255); margin-right: 47px; width: 100%;"></button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuButton" th:field="*{categoryId}">
									<a class="dropdown-item" th:href="@{/course(categoryId='0')}" th:text="'-- Tất Cả --'"></a>
									<a class="dropdown-item" th:each="category : ${allCategories}" th:href="@{course(categoryId=${category.categoryId})}" th:text="${category.categoryName}"></a>
								</div>
							</div>
	
							<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-flex ftco-animate" style="justify-content: center;">
								<div style="width: 100%;" class="chosen-select-single mg-b-20">
									<select style="margin-right: 47px; width: 100%;" class="form-control" th:field="*{subjectId}">
										<option value="0" th:text="'-- Lọc Theo Môn Học --'"></option>
										<option th:if="${allSubjects != null}"
											th:each="subject : ${allSubjects}"
											th:value="${subject.subjectId}" th:text="${subject.subjectName}"></option>
									</select>
								</div>
							</div>
							<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-flex ftco-animate" style="justify-content: center;">
								<div style="width: 100%;" class="chosen-select-single mg-b-20">
									<select style="margin-right: 47px; width: 100%;" class="form-control" th:field="*{sortValue}">
										<option value="0" th:text="'-- Sắp Xếp theo --'"></option>
										<option value="1" th:text="'Tên'"></option>
										<option value="2" th:text="'Ngày cập nhật'"></option>
										<option value="3" th:text="'Giá từ Thấp tới Cao'"></option>
										<option value="4" th:text="'Giá từ Cao tới Thấp'"></option>
									</select>
								</div>
							</div>
	
							<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-flex ftco-animate" style="justify-content: center;">
								<input type="submit" class="btn btn-primary" value="Lọc"
									style="height: 58px; width: 100px;">
							</div>
						</div>
					</form>

				</div>

			</div>
			
			<div th:if="${#lists.isEmpty(allCourses) == true}" class="search-form wow pulse animated" style="justify-content: center; text-align: center;">
				<span th:text="'Không Tìm thấy Khóa Học nào.'" style="color: black; font-size: 30px; text-align: center;"></span>
			</div>
			
			<div th:if="${searchValue.search != null}" class="search-form wow pulse animated" style="justify-content: center; text-align: center;">
				<span th:text="'Tìm kiếm Tên khóa học ('" style="color: black; font-size: 30px;"></span>
				<span th:text="${searchValue.search}" style="color: green; font-size: 30px;"></span>
				<span th:text="') Tìm thấy ('" style="color: black; font-size: 30px;"></span>
				<span th:text="${total}" style="color: green; font-size: 30px;"></span>
				<span th:text="') Khóa Học.'" style="color: black; font-size: 30px;"></span>
			</div>
			
			<div class="row" th:if="${#lists.isEmpty(allCourses) == false}">
				<div class="col-md-4 d-flex ftco-animate" th:each="course,wind : ${allCourses}">
					<div class="course align-self-stretch" style="width: 100%;">
						<a th:href="@{/detail-course(courseId=${course.courseId})}" class="img"
							style="background-image: url(images/course-1.jpg)"></a>
						<div class="text p-4">
							<p class="category" >
								<span th:text="${course.subject.subjectName}"></span> 
								<span class="price"><span class="price" th:text="${#numbers.formatCurrency(course.price)}"></span></span>
							</p>
							<h3 class="mb-3">
								<a th:href="@{/detail-course(courseId=${course.courseId})}" th:text="${course.courseName}"></a>
							</h3>
							<p th:text="${#strings.substring(course.courseDescription,0,45)} + '...'"></p>
							<a th:href="@{/detail-course(courseId=${course.courseId})}"><button type="button" class="btn btn-primary">Chi Tiết</button></a>
						</div>
					</div>
				</div>
			</div>
			
			<div th:if="${#lists.isEmpty(allCourses) == false}" class="search-form wow pulse animated" data-wow-delay="0.8s"
				style="visibility: visible; animation-delay: 0.8s; animation-name: pulse; display: flex; justify-content: center;">
				<a th:if="${currentPage != first}" class="btn btn-circle btn-primary" th:href="@{/course(page=${first}, subjectId=${searchValue.subjectId})}">Trang Đầu</a>
				<a th:if="${currentPage == first}" class="btn btn-circle btn-primary" >Trang Đầu</a>
				
				<a th:if="${hasPrevious == true}" th:href="@{/course(page=${previous}, subjectId=${searchValue.subjectId})}" class="btn btn-circle btn-primary" th:text="'<<'">Previous</a>
				<div th:each="totalPage : ${totalPages}">
				<a th:if="${currentPage != totalPage}" class="btn btn-circle btn-primary" th:href="@{/course(page=${totalPage},  subjectId=${searchValue.subjectId})}" th:text="${totalPage}">1</a>
				<a th:if="${currentPage == totalPage}" class="btn btn-circle btn-primary" th:text="${totalPage}">1</a>
				</div>
				<a th:if="${hasNext == true}" class="btn btn-circle btn-primary" th:href="@{/course(page=${next}, subjectId=${searchValue.subjectId})}" th:text="'>>'">Next</a>
				
				<a th:if="${currentPage != last}" class="btn btn-primary" th:href="@{/course(page=${last}, subjectId=${searchValue.subjectId})}">Trang Cuối</a>
				<a  th:if="${currentPage == last}" class="btn btn-primary" >Trang Cuối</a>
			</div>
		</div>
	</section>

	<div th:replace="footer :: footer"></div>
	

	<!-- loader -->
	<div id="ftco-loader" class="show fullscreen">
		<svg class="circular" width="48px" height="48px">
			<circle class="path-bg" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke="#eeeeee" />
			<circle class="path" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke-miterlimit="10" stroke="#F96D00" /></svg>
	</div>

	<script src="js/jquery.min.js"></script>
	<script src="js/jquery-migrate-3.0.1.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.easing.1.3.js"></script>
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/jquery.stellar.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/aos.js"></script>
	<script src="js/jquery.animateNumber.min.js"></script>
	<script src="js/bootstrap-datepicker.js"></script>
	<script src="js/jquery.timepicker.min.js"></script>
	<script src="js/scrollax.min.js"></script>
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
	<script src="js/google-map.js"></script>
	<script src="js/main.js"></script>
	<script src="js/menu.js"></script>

</body>
</html>